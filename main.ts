namespace SpriteKind {
    export const NPC = SpriteKind.create()
    export const Teleport = SpriteKind.create()
    export const Silverstein = SpriteKind.create()
    export const SilversteinAttack2 = SpriteKind.create()
    export const MainCharacterAttack = SpriteKind.create()
    export const SilversteinAttack1 = SpriteKind.create()
    export const SilversteinAttack3 = SpriteKind.create()
}
statusbars.onStatusReached(StatusBarKind.EnemyHealth, statusbars.StatusComparison.LTE, statusbars.ComparisonType.Fixed, 1, function (status) {
    sprites.destroyAllSpritesOfKind(SpriteKind.Player)
    sprites.destroyAllSpritesOfKind(SpriteKind.NPC)
    sprites.destroyAllSpritesOfKind(SpriteKind.SilversteinAttack2)
    sprites.destroyAllSpritesOfKind(SpriteKind.SilversteinAttack3)
    sprites.destroyAllSpritesOfKind(SpriteKind.SilversteinAttack1)
    sprites.destroyAllSpritesOfKind(SpriteKind.MainCharacterAttack)
    scene.setBackgroundImage(img`
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ....................................................................................................................................3...........................
        ...................................................................................................................................3............................
        .................................................3.................................................................................3............................
        ................................................3..................................................................................3............................
        ................................................3..................................................................................3............................
        ..................3............................3..................................................................................3.............................
        ..................3............................3..................................................................................3.............................
        ..................3............................3...................3333333333.....................................................3.............................
        ..................3............................3..............33333.........33333333333........................3..................3.............................
        ..................3...........................3.............................3..........333333333..............3.33...............3..............................
        ..................3...........................3.............................3.................................3...3..............3.........................33333
        ..................3...........................3.............................3.................................3...3..............3..............................
        ..................3...........................3............................3.................................3....3..............3..............................
        ..................3...........................3............................3.................................3....3..............3..............................
        ..................3...........................3............................3.................................3.....3.............3..............................
        ..................3...........................3............................3.................................3.....3............3...............................
        ..................3...........................3...........................3.................................3......3............3...............................
        ...................3...............3..........3...........................3.................................3.......3...........3...............................
        ...................3...............33........3............................3.................................3.......3...........3...............................
        ...................3..............3.3........3............................3.................................3.......3...........3...............................
        ...................3..............3.3........3...........................3.................................3........3...........3...............................
        ...................3..............3.3........3...........................3.................................3.........3.........3................................
        ...................3.............3..3........3...........................3.................................3.........3.........3................................
        ...................3.............3...3.......3...........................3.................................3.........3.........3................................
        ....................3............3...3......3...........................3..................................3..........3........3................................
        ....................3............3...3......3...........................3.................................3...........3........3................................
        ....................3............3...3......3...........................3.................................3...........3........3................................
        ....................3...........3.....3.....3...........................3.................................3...........3.......3.................................
        ....................3...........3.....3.....3..........................3..................................3............3......3.................................
        ....................3...........3.....3.....3..........................3.................................3.............3......3............................333..
        .....................3.........3......3.....3..........................3.................................3.............3......3.................................
        .....................3.........3......3....3..........................3..................................3.............3......3.................................
        .....................3.........3......3....3..........................3..................................3..............3.....3.................................
        .....................3........3.......3....3..........................3..................................3..............3....3..................................
        .....................3........3.......3....3..........................3..................................3..............3....3..................................
        ......................3......3........3....3.........................3...................................3...............3...3..................................
        ......................3......3........3...3..........................3...................................3...............3...3..................................
        ......................3......3........3...3..........................3..................................3................3...3..................................
        ......................3.....3..........3..3..........................3..................................3................3...3..................................
        ......................3.....3..........3..3.........................3...................................3.................3.3...................................
        ......................3.....3..........3..3.........................3...................................3.................3.3...................................
        ......................3....3...........3.3..........................3...................................3.................3.3...................................
        ......................3....3...........3.3..........................3...................................3..................33...................................
        ......................3....3...........3.3.........................3....................................3..................33...................................
        ......................3...3............3.3..............................................................3..................33...................................
        ......................3...3............3.3...............................................................3.................33...................................
        ......................3...3.............33...............................................................3..................3..............................3....
        ......................3..3...............3...............................................................3..................3...................................
        ......................3..3...............................................................................3..................3...................................
        ......................3.3................................................................................3..................3...................................
        .......................33............................333333333333333333333...............................3..................3...................................
        .......................33.................................................3333333........................3..................3...................................
        .......................3.........................................................33......................3..................3...................................
        .......................3.................................................................................3......................................................
        .........................................................................................................3......................................................
        ..........................................................................................................3.....................................................
        ..........................................................................................................3.....................................................
        ..........................................................................................................3.....................................................
        ..........................................................................................................3.....................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        `)
    sprites.destroyAllSpritesOfKind(SpriteKind.Silverstein)
    BossFight = 0
    MainCharacterFight = 0
})
controller.up.onEvent(ControllerButtonEvent.Pressed, function () {
    if (JumpCooldown == 1) {
        MainCharacter.vy = -50
    }
    if (JumpCooldown == 2) {
        if (Jump < 1) {
            pauseUntil(() => Jump == 0)
            MainCharacter.vy = -75
        }
    }
})
controller.B.onEvent(ControllerButtonEvent.Pressed, function () {
    if (MainCharacterFight > 0) {
        if (BlockCooldown == 1) {
            Block = 0
            animation.runImageAnimation(
            MainCharacter,
            [img`
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . b 5 1 1 1 . . . . . . . . 
                . . . . 1 1 b 1 1 1 1 . . . . . 
                . . 1 1 1 5 5 5 5 b 1 . . . . . 
                . . 1 5 5 5 5 5 5 5 b 1 1 b b . 
                . . 1 5 5 5 5 5 5 5 5 b 1 1 1 1 
                . . 1 4 d 5 f 1 d 5 b 5 5 b 1 1 
                . 1 1 4 4 5 f f 1 b 5 5 d 1 1 . 
                1 1 4 4 4 4 b f d 5 5 5 b d 1 1 
                1 1 4 4 4 4 4 5 b 5 5 d c d d 1 
                1 b 5 5 5 5 5 5 5 b c c d d d 1 
                . 1 5 5 5 5 5 5 5 d d d d d b 1 
                . 1 d 5 5 5 5 5 d d d d d d 1 1 
                . . 1 1 5 5 5 d d d d d b 1 1 . 
                . . . 1 1 1 1 1 1 1 1 1 1 1 . . 
                `,img`
                . . . . . . . . . . . . . . . . 
                . . . b 5 b . . . . . . . . . . 
                . . . . 1 5 b . . . . . . . . . 
                . . . 1 1 1 1 1 1 b . . . . . . 
                . . . 1 5 5 5 5 5 1 1 1 . . . . 
                . . 1 5 5 5 5 5 5 5 b 1 1 1 1 1 
                . . 1 5 5 5 5 5 5 5 5 b 5 d 1 1 
                . . 1 4 d 5 f 1 d 5 b 5 5 1 1 . 
                . 1 c 4 4 5 f f 1 b 5 5 d 1 1 . 
                1 1 4 4 4 4 b f d 5 5 5 b d 1 1 
                . 1 4 4 4 4 4 5 b 5 5 d c d d 1 
                . 1 5 5 5 5 5 5 5 b c c d d d 1 
                . 1 5 5 5 5 5 5 5 d d d d d 1 1 
                . 1 1 5 5 5 5 5 d d d d d 1 1 . 
                . . 1 1 5 5 5 d d d d 1 1 1 . . 
                . . . 1 1 1 1 1 1 1 1 1 c . . . 
                `,img`
                . . . b 5 b . . . . . . . . . . 
                . . . . b 5 1 1 . . . . . . . . 
                . . . . . c 1 1 . . . . . . . . 
                . . . . 1 1 1 1 1 1 . . . . . . 
                . . . 1 1 5 5 5 5 1 1 . . . . . 
                . . 1 1 5 5 f 1 d 5 b 1 . . . . 
                . . 1 4 d 5 f f 1 5 5 1 . . . . 
                . 1 1 4 d d b f d 5 5 1 . . . . 
                b 1 4 4 4 4 5 5 5 d b 1 1 1 1 1 
                . 1 1 4 4 4 4 5 5 b 5 5 5 d b 1 
                . 1 b 5 5 5 5 5 d 5 5 5 5 c d 1 
                . 1 5 5 5 5 5 5 b 5 5 d c d d 1 
                . 1 5 5 5 5 5 5 5 b c c d d b 1 
                . 1 1 5 5 5 5 5 d d d d d d 1 1 
                . . 1 1 5 5 5 d d d d 1 1 1 . . 
                . . . 1 1 1 1 1 1 1 1 c c . . . 
                `,img`
                . . . b 5 b . . . . . . . . . . 
                . . . . 1 1 b . . . . . . . . . 
                . . . . 1 1 1 1 1 1 1 . . . . . 
                . . 1 1 5 5 5 5 5 b 1 1 . . . . 
                . 1 1 4 d 5 f 1 d 5 b 1 . . . . 
                1 1 4 4 d d f f 1 5 5 1 . . . . 
                . 1 1 4 4 4 b f d 5 5 1 1 . . . 
                . . 1 4 4 4 4 5 5 5 5 d 1 1 . . 
                . . 1 5 5 5 5 5 5 5 5 d d b 1 . 
                . b 1 5 5 5 5 5 5 5 d d d d 1 1 
                . b 1 5 5 5 5 5 5 b b b d d d 1 
                . 1 5 5 5 5 5 5 c d 5 5 b d d 1 
                . 1 5 5 5 5 5 5 d c d 5 d 1 b 1 
                . 1 1 5 5 5 5 5 d d c b 1 1 1 1 
                . . 1 1 5 5 5 d d 1 1 1 1 c 1 1 
                . . . 1 1 1 1 1 1 1 c 1 c . . . 
                `,img`
                . . . b 5 b . . . . . . . . . . 
                . . . . b 5 b . . . . . . . . . 
                . . . . b b b b b b . . . . . . 
                . . . b 5 5 5 5 5 b b . . . . . 
                . . c 4 d 5 f 1 d 5 b b . . . . 
                b 4 4 4 d d f f 1 5 5 b . . . . 
                . b 4 4 4 4 b f d 5 5 b . . . . 
                . . b 4 4 4 4 5 5 5 5 d b . . . 
                . . b 5 5 5 5 5 5 5 d d d b b . 
                . b 5 5 5 5 5 5 5 b b b d d d b 
                . b 5 5 5 5 5 5 c d 5 5 b d d c 
                . b 5 5 5 5 5 5 d c d 5 d b b c 
                . b 5 5 5 5 5 5 d d c b 5 5 b c 
                . b d 5 5 5 5 5 d d d c c c b b 
                . . b b 5 5 5 d d d c c . . . . 
                . . . b b c c c c c . . . . . . 
                `,img`
                . . . b 5 b . . . . . . . . . . 
                . . . . b 5 b . . . . . . . . . 
                . . . . b b b b b b . . . . . . 
                . . . b 5 5 5 5 5 b b . . . . . 
                . . f d 5 5 f 1 d 5 b b . . . . 
                . . c 4 d 5 f f 1 5 5 b . . . . 
                . . 4 4 d d b f d 5 5 b . . . . 
                b 4 4 4 4 4 5 5 5 5 5 d b b b . 
                . b 4 4 4 4 4 5 5 d b b d d d b 
                . . b 5 5 5 5 5 5 b 5 5 5 d b b 
                . b 5 5 5 5 5 5 d 5 5 5 5 c d c 
                . b 5 5 5 5 5 5 b 5 5 d c d b c 
                . b d 5 5 5 5 5 d b c c d d c . 
                . . b b 5 5 5 d d d d d b c . . 
                . . . b b c c c c c c c c . . . 
                . . . . . . . . . . . . . . . . 
                `],
            1000,
            false
            )
            pause(1000)
            Block = 2
            BlockCooldown = 0
        }
    }
})
statusbars.onStatusReached(StatusBarKind.EnemyHealth, statusbars.StatusComparison.LTE, statusbars.ComparisonType.Fixed, 25, function (status) {
    BossFight = 5
})
sprites.onOverlap(SpriteKind.Player, SpriteKind.SilversteinAttack1, function (sprite, otherSprite) {
    if (Block == 2) {
        MainCharacterHealth.value += -5
        sprites.destroyAllSpritesOfKind(SpriteKind.SilversteinAttack1)
    }
})
controller.A.onEvent(ControllerButtonEvent.Pressed, function () {
    if (JabCooldown == 1) {
        MainCharacterAttack1 = sprites.createProjectileFromSprite(assets.image`MCA1`, MainCharacter, 75, 0)
        MainCharacterAttack1.setKind(SpriteKind.MainCharacterAttack)
        MainCharacterAttack1.setBounceOnWall(true)
        MainCharacterAttack1.setVelocity(50, 0)
        JabCooldown = 0
    }
})
controller.down.onEvent(ControllerButtonEvent.Released, function () {
    MainCharacter.vy = 0
})
sprites.onOverlap(SpriteKind.Player, SpriteKind.Teleport, function (sprite, otherSprite) {
    sprites.destroy(Teleport1)
    scene.setBackgroundImage(assets.image`Hallway`)
    pause(2000)
    scene.cameraFollowSprite(MainCharacter)
    story.startCutscene(function () {
        story.printText("Hey! I'm Mr. Barone, your principal here at Pax", 80, 0)
        story.printText("I heard about your middle school transcript...", 80, 0)
        story.printText("High school is different, I hope you don't make the same mistake", 80, 0)
    })
    pause(16000)
    sprites.destroy(MainCharacter)
    pause(5000)
    MainCharacter.setVelocity(50, 50)
    scene.cameraFollowSprite(MainCharacter)
    MainCharacter = sprites.create(assets.image`Main Character`, SpriteKind.Player)
    MainCharacter.setPosition(80, 109)
    MainCharacter.setStayInScreen(true)
    JumpCooldown = 2
    scene.setBackgroundImage(assets.image`Fight 1`)
    MainCharacterHealth = statusbars.create(60, 7, StatusBarKind.Health)
    MainCharacterHealth.setPosition(30, 7)
    MainCharacterHealth.value = 100
    SilversteinHealth = statusbars.create(60, 7, StatusBarKind.EnemyHealth)
    SilversteinHealth.setPosition(130, 7)
    SilversteinHealth.value = 100
    MainCharacterFight = 2
    SivlersteinCharacter = sprites.create(assets.image`Silverstein`, SpriteKind.NPC)
    SivlersteinCharacter.setPosition(157, 113)
    SivlersteinCharacter.setBounceOnWall(true)
    SivlersteinCharacter.setStayInScreen(true)
    MainCharacter.ay = 250
})
controller.left.onEvent(ControllerButtonEvent.Pressed, function () {
    MainCharacter.vx = -50
})
controller.right.onEvent(ControllerButtonEvent.Released, function () {
    MainCharacter.vx = 0
})
controller.left.onEvent(ControllerButtonEvent.Released, function () {
    MainCharacter.vx = 0
})
controller.right.onEvent(ControllerButtonEvent.Pressed, function () {
    MainCharacter.vx = 50
})
sprites.onOverlap(SpriteKind.NPC, SpriteKind.MainCharacterAttack, function (sprite, otherSprite) {
    if (Block == 2) {
        SilversteinHealth.value += -5
        sprites.destroyAllSpritesOfKind(SpriteKind.MainCharacterAttack)
    }
})
controller.up.onEvent(ControllerButtonEvent.Released, function () {
    if (JumpCooldown == 1) {
        MainCharacter.vy = 0
    }
    if (JumpCooldown == 2) {
        Jump += 1
    }
})
statusbars.onStatusReached(StatusBarKind.EnemyHealth, statusbars.StatusComparison.LTE, statusbars.ComparisonType.Fixed, 75, function (status) {
    BossFight = 3
})
controller.down.onEvent(ControllerButtonEvent.Pressed, function () {
    MainCharacter.vy = 50
})
sprites.onOverlap(SpriteKind.Player, SpriteKind.SilversteinAttack2, function (sprite, otherSprite) {
    if (Block == 2) {
        MainCharacterHealth.value += -10
        sprites.destroyAllSpritesOfKind(SpriteKind.SilversteinAttack2)
    }
})
controller.combos.attachCombo("A+UP", function () {
    if (BossFight >= 2) {
        if (UppercutCooldown > 0) {
            animation.runImageAnimation(
            MainCharacter,
            assets.animation`MCU1`,
            500,
            false
            )
            if (MainCharacter.overlapsWith(SivlersteinCharacter)) {
                SilversteinHealth.value += -10
            }
            UppercutCooldown = 0
        }
    }
})
sprites.onOverlap(SpriteKind.Player, SpriteKind.SilversteinAttack3, function (sprite, otherSprite) {
    if (Block == 2) {
        MainCharacterHealth.value += -10
        sprites.destroyAllSpritesOfKind(SpriteKind.SilversteinAttack3)
    }
})
statusbars.onStatusReached(StatusBarKind.EnemyHealth, statusbars.StatusComparison.LTE, statusbars.ComparisonType.Fixed, 50, function (status) {
    BossFight = 4
})
statusbars.onStatusReached(StatusBarKind.Health, statusbars.StatusComparison.LTE, statusbars.ComparisonType.Fixed, 1, function (status) {
    sprites.destroyAllSpritesOfKind(SpriteKind.Player)
    sprites.destroyAllSpritesOfKind(SpriteKind.NPC)
    sprites.destroyAllSpritesOfKind(SpriteKind.Projectile)
    sprites.destroyAllSpritesOfKind(SpriteKind.Silverstein)
    BossFight = 0
    scene.setBackgroundImage(img`
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        .....................................................................................................................33.........................................
        .....................................................................................................................33..........................333333333333333
        .....................................................................................................................3.3.....................3333...............
        ................................................................................................3...................3..3...............333333...................
        ................................................................................................333.................3...3..............3........................
        ......................................................................33........................3.3.................3....3.............3........................
        .....................................................................3.3........................3..3...............3.....3..............3.......................
        .....................................................................3..3.......................3..3...............3......3.............3.......................
        ......................................33.............................3..3.......................3...3..............3......3..............3......................
        ....................................333.............................3...3.......................3...3.............3........3.............3......................
        ...................................3.3..............................3....3......................3....3............3.........3............3......................
        .................................33.3...............................3....3......................3....3............3.........3.............3.....................
        ...............................33..3...............................3.....3.....................3.....3............3.........3.............3.....................
        ..............................3..33................................3......3....................3......3..........3..........3.............3.....................
        ............................33..3..................................3......3....................3......3..........3..........3.............3.....................
        ...........................3...3..................................3........3...................3.......3.........3...........3.............3....................
        ..........................3...3...................................3........3...................3.......3.........3...........3.............3....................
        ..........................3..3....................................3........3...................3........3........3...........3.............3....................
        .........................3..3....................................3..........3..................3........3........3...........3.............3....................
        .........................3..3....................................3..........3...................3.......3........3............3............3....................
        .........................3.3.....................................3..........3...................3........3.......3............3.............3...........333333..
        ........................3.3......................................3..........3...................3........3.......3............3.............3.3333333333........
        ........................3.3......................................3...........3..................3........3.......3............3.............3...................
        .......................3.3.......................................3...........3..................3.........3......3............3.............3...................
        .......................3.3......................................3............3...................3........3......3.............3............3...................
        .......................33.......................................3............3...................3.........3.....3.............3............3...................
        ......................3.3.......................................3.............3..................3.........3.....3.............3............3...................
        ......................33........................................3.............3...................3........3.....3.............3............3...................
        .....................3.3........................................3.............3..33...............3.........3...3..............3............3...................
        .....................33........................................333333333333333333.................3.........3...3..............3............3...................
        .....................33.........................................3..............3..................3.........3...3..............3............3...................
        ....................3.3........................................3...............3...................3........3...3..............3............3...................
        ....................3.3........................................3...............3...................3........3...3..............3............3...................
        .....................33........................................3................3..................3........3...3..............3............3...................
        .....................33........................................3................3..................3.........3.3...............3............3...................
        .....................33...............333......................3................3...................3........3.3...............3............3...................
        .....................33.............33...333...................3................3...................3........33................3............3...................
        .....................33.............3.......333................3.................3..................3........33................3.............3.......3333333....
        .....................33.............3..........3...............3.................3..................3........33................3.............3.333333...........
        .....................33.............3...........3..............3.................3..................3........3.................3................................
        .....................3..............3...........3.............3...................3.................3........3..................................................
        .....................33.............3............3............3...................3.................3.......33..................................................
        ......................333............3...........3............3...................3.................3.......3...................................................
        .......................3.3...........3............3...........3...................3.................3.......3...................................................
        .......................3..3..........3............3...........3.....................................3...........................................................
        ........................3..3.....................3............3......................................3..........................................................
        .........................3..3....................3............3.................................................................................................
        .........................3...33..................3............3.................................................................................................
        ..........................3....3.................3............3.................................................................................................
        ...........................3....3................3..............................................................................................................
        ............................3....33..............3..............................................................................................................
        .............................33....3.............3..............................................................................................................
        ...............................3................3...............................................................................................................
        ................................333..........333................................................................................................................
        ...................................3333333333...................................................................................................................
        ................................................................................................................................................................
        ....................................................................................................................................333.........................
        ..............................................................................................................................333333...33.......................
        ...........................................................................................................................333...........33.....................
        .........................................................................................................333333...........3................3....................
        ..................................................................................................3333333.................3................3....................
        .............................................................................................33333........................3................3....................
        ................................33...............................3.................3.........3............................3................3....................
        ...............................3..3333...........................3.................3.........3.............................3...............3....................
        ..............................3.......3333.......................3................3..........3.............................3..............3.....................
        .............................3............3333....................3...............3...........3.............................3.............3.....................
        ............................3.................3333................3...............3...........3.............................3............3......................
        ...........................3......................3333.............3.............3............3.............................3..........33.......................
        ..........................3...........................33...........3.............3............3.............................3.........3.........................
        .........................3.............................3...........3.............3............3.............................3.......33..........................
        ........................3..............................3............3...........3............3..............................3......3............................
        .......................3................................3...........3...........3............3.....3333333...................3...333333333......................
        ......................3.................................3...........3..........3.............3..333.......3..................3............3333333...............
        .......................3.................................3...........3.........3.............3...............................3...................333............
        .......................3.................................3...........3.........3.............3................................3.................................
        .......................3.................................3............3.......3..............3................................3.................................
        .......................3.................................3............3.......3..............3.................................3................................
        .......................3................................3.............3.......3..............3.................................3................................
        .......................3................................3..............3.....3...............3.................................3................................
        .......................3................................3..............3.....3...............3..................................3...............................
        .......................3...............................3................3....3...............3..................................3...............................
        ........................3............................33.................3....3...............3..................................3...............................
        .........................3..........................3....................3..3................3...................................3..............................
        .........................33.......................33.....................3..3................3.......33333333333.................3..............................
        ...........................3.....................3.......................3..3................3.333333............................3..............................
        ..........................3.333.................3.........................33....................................................................................
        ..........................33..................33..........................33....................................................................................
        ............................3333............33............................33....................................................................................
        ................................3333....3333...............................3....................................................................................
        ....................................3333........................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        `)
    MainCharacterFight = 0
})
controller.combos.attachCombo("A+B", function () {
    if (ComboCooldown == 1) {
        animation.runImageAnimation(
        MainCharacter,
        assets.animation`MCD1`,
        200,
        false
        )
        if (MainCharacter.overlapsWith(SivlersteinCharacter)) {
            SilversteinHealth.value += -20
        }
        ComboCooldown = 0
    }
})
let SilversteinAttack3: Sprite = null
let SilversteinAttack2: Sprite = null
let SilversteinAttack1: Sprite = null
let SivlersteinCharacter: Sprite = null
let SilversteinHealth: StatusBarSprite = null
let MainCharacterAttack1: Sprite = null
let JabCooldown = 0
let MainCharacterHealth: StatusBarSprite = null
let MainCharacterFight = 0
let Teleport1: Sprite = null
let MainCharacter: Sprite = null
let BlockCooldown = 0
let UppercutCooldown = 0
let ComboCooldown = 0
let BossFight = 0
let JumpCooldown = 0
let Jump = 0
let Block = 0
Block = 2
Jump = 0
JumpCooldown = 1
BossFight = 0
ComboCooldown = 0
UppercutCooldown = 0
BlockCooldown = 1
scene.setBackgroundImage(assets.image`School`)
MainCharacter = sprites.create(assets.image`Main Character`, SpriteKind.Player)
MainCharacter.setPosition(80, 109)
MainCharacter.setStayInScreen(true)
Teleport1 = sprites.create(assets.image`myImage`, SpriteKind.Teleport)
Teleport1.setPosition(78, 9)
tiles.setCurrentTilemap(tilemap`level2`)
scene.cameraFollowSprite(MainCharacter)
game.onUpdateInterval(2000, function () {
    if (BossFight == 2) {
        BossFight = 10
    }
    if (BossFight == 3) {
        BossFight = randint(10, 11)
    }
    if (BossFight == 4) {
        BossFight = randint(10, 12)
    }
})
forever(function () {
    if (MainCharacterFight > 0) {
        if (JabCooldown == 0) {
            pause(1000)
            JabCooldown = 1
        }
        if (BlockCooldown == 0) {
            pause(2000)
            BlockCooldown = 1
        }
        if (MainCharacter.y >= 120) {
            pause(100)
            Jump = 0
        }
        if (ComboCooldown == 0) {
            pause(15000)
            story.printText("SPECIAL READY", 80, 60)
            ComboCooldown = 1
        }
        if (UppercutCooldown == 0) {
            pause(5000)
            story.printText("UPPERCUT READY", 80, 60)
            UppercutCooldown = 1
        }
    }
})
forever(function () {
    if (BossFight == 10) {
        SilversteinAttack1 = sprites.createProjectileFromSprite(assets.image`SSA1`, SivlersteinCharacter, -75, 0)
        SilversteinAttack1.setKind(SpriteKind.SilversteinAttack1)
        SilversteinAttack1.setBounceOnWall(true)
        SivlersteinCharacter.setVelocity(randint(-50, 50), 0)
        pause(2000)
    }
    if (BossFight == 11) {
        SilversteinAttack2 = sprites.createProjectileFromSprite(assets.image`myImage1`, SivlersteinCharacter, -100, 0)
        SilversteinAttack2.setKind(SpriteKind.SilversteinAttack2)
        pause(2000)
    }
    if (BossFight == 12) {
        SilversteinAttack3 = sprites.createProjectileFromSprite(assets.image`SSA3`, SivlersteinCharacter, -125, 0)
        SilversteinAttack3.setKind(SpriteKind.SilversteinAttack3)
        pause(2000)
    }
})
